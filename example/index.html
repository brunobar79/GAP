
<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <title>GAP.js - Google Analytics Painless Javascript Library</title>
        <meta name="description" content="A Google Analytics Painless Javascript Library">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,700">
        <link rel="stylesheet" href="css/main.min.css">
        <link rel="stylesheet" href="css/override.css">
        <script src="js/html5.js"></script>
    </head>
    <body>

        <div class="container">
            <header class="site-header cf" role="banner">
                <div class="site-logo">
                    GAP<span class="star">.</span> JS
                </div>
                <ul class="site-nav inline-block-list">
                    <li><a href="https://github.com/brunobar79/GAP"
                           data-ga-category="Outbound links"
                           data-ga-action="Nav click"
                           data-ga-label="Source code">Source code</a></li>
                    <li><a href="https://github.com/brunobar79"
                           data-ga-category="Outbound links"
                           data-ga-action="Nav click"
                           data-ga-label="Other projects">Other projects</a></li>
                </ul>
            </header><!-- end site-header -->

            <div class="site-promo">
                <h1>A Google Analytics Painless Javascript Library</h1>
                <p class="description">GAP.js helps you write one single code that supports both versions of Google Analytics, the classic "ga.js" and universal analytics (analytics.js) and makes realtime javascript error tracking easy as pie!</p>
                <br />
                <div id='try-it'>
                  <h4>Try it yourself!</h4>
                     <ol>
                      <li>Just add the parameter UA=YOUR_GA_ACCOUNT_ID to this url and also universal=1 (if you are using universal GA) and reload the page. <br />For Example

                      <a id='this_url' href=''>{{THIS_URL}}?UA=123312333-1&universal=1</a></li>
                      <li>Then login to your analytics account, go to Reports => Realtime => Events, then play with the buttons below and see the magic!</li>
                    </ol>
                </div>

                <div class="cta-option">
                    <a id="btn-download" class="btn-download"
                       href="javascript:void(0);"
                       data-ga-category="GAP"
                       data-ga-action="Rocks!"
                       data-ga-label="EPIC">
                        <strong>Trigger Event</strong>
                    </a>

                    <a id='btn-error' class="btn-download btn-download-alt"
                       xhref="https://github.com/brunobar79/GAP/archive/master.zip">
                        <strong>Break it all!</strong>
                    </a>

                    <span class="last-update" href="#">
                        Look at the JS console and see what happens!
                    </span>
                    
                </div>
                
            </div><!-- end site-promo -->
        </div>

        <div class="site-content">
            <div class="container">
                <h2>It solves the following problems</h2>

                <div class="grid">
                    <div class="grid-cell">
                          <h3>
                            <span class="star">&#x2605;</span> Single code for both versions.
                          </h3>
                        <p>It doesn't matter which version of google analytics you are using (classic or universal). Just use only one syntax and it will work with both of them!</p>
                    </div>

                    <div class="grid-cell">
                        <h3><span class="star">&#x2605;</span> Error tracking for dummies</h3>
                        <p>This is cross-browser implementatio without any library required that allows you to track realtime javascript  errors getting some information like the error message, file and line.</p>
                    </div>

                    <div class="grid-cell">
                        <h3><span class="star">&#x2605;</span> Event tracking made easy</h3>
                        <p>You can use data attributes to set the category, action, label and value of the event if you want, but you can trigger with custom values too!</p>
                    </div>

                    <div class="grid-cell">
                        <h3><span class="star">&#x2605;</span> Social Tracking</h3>
                        <p>Track social interactions like tweets, follows, facebook likes and some others with just one line of code! (#truestory!)</p>
                    </div>
                  </div>

                

                

                <div class="cta-option">
                    <a id='btn-download-bottom' class="btn-download"
                       href="https://github.com/brunobar79/GAP/archive/master.zip"
                       data-ga-category="buttons"
                       data-ga-action="Download"
                       data-ga-label="v0.0.1">
                        <strong>Download</strong>
                        <span class="version">v0.0.1</span>
                    </a>
                </div>
            </div>
        </div>

        <aside class="aside">
            <div class="container">
                <ul class="inline-block-list">
                    <li><a href="https://github.com/brunobar79/GAP/issues"
                           data-ga-category="Outbound links"
                           data-ga-action="Footer click"
                           data-ga-label="Report issues">
                        <img class="icon" src="http://www.google.com/s2/favicons?domain=github.com" alt="">
                        Report issues
                    </a></li>
                    
                </ul>
            </div>
        </aside><!-- end aside -->

        <footer class="site-footer" role="contentinfo">
            <div class="container">
                <p>
                    <a id="twitter-share" class="twitter-share-button"
                       href="https://twitter.com/share"
                       data-count="none"
                       data-lang="en"
                       data-size="large"
                       data-text="GAP.JS: A Google Analytics Painless Javascript Library"
                       data-url="http://github.com/brunobar79/GAP">Tweet</a>
                   &nbsp;
                   <a id="twitter-follow" class="twitter-follow-button"
                      href="https://twitter.com/brunobar79"
                      data-show-count="false"
                      data-lang="en"
                      data-size="large">Follow @brunobar79</a>
                </p>

                A project created and maintained by
                <a href="http://github.com/brunobar79">Bruno Barbieri</a>
            </div>
        </footer><!-- end site-footer -->

        <script>
          // Twitter widgets
            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='http://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');

          document.getElementById("this_url").innerText = document.getElementById("this_url").innerText.replace("{{THIS_URL}}",location.origin+location.pathname);

          function getUA(url) {
              var match = url.match(/.*[?&]UA=([^&]+)(&|$)/);
              return(match ? match[1] : "");
          }

          function getUniversal(url){
            var match = url.search("universal=");
              return(match !=-1? 1 : 0);
          }
          var custom_ua = getUA(location.href);
          var is_universal = getUniversal(location.href);
          
          if(is_universal){
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

              if(custom_ua!=""){
                ga('create', 'UA-'+custom_ua, 'yoledoy.com');
              }else{
                ga('create', 'UA-40555325-1', 'yoledoy.com');
              }

              ga('send', 'pageview');
          }else{

            var _gaq = _gaq || [];
            var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
            _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
            if(custom_ua!=""){
              _gaq.push(["_setAccount", "UA-"+custom_ua]);
            }else{
              _gaq.push(["_setAccount", "UA-38114450-3"]);
            }
            
            _gaq.push(["_trackPageview"]);
          
            (function() {
              var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
              ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
              var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
            })();
          }
        </script>
        <script src='../src/GAP.js'></script>
        <script>
            //Error Tracking enabled!
            GAP.track.errors();
            
            //Event tracking using data-attributes;
            GAP.track.element('click',document.getElementById("btn-download"));

            //Event tracking using custom values;
            GAP.track.addListener(document.getElementById("btn-download-bottom"),'click',function(){
              GAP.track.event('buttons','download','v0.0.1','1');

            });


           GAP.track.addListener(document.getElementById("btn-error"),'click',function(){
                my_non_defined_var / 2;
            });
        </script>
    </body>
</html>
